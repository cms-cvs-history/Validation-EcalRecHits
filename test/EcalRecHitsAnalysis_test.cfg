process EcalRecHitsAnalysis  = 
{
  service = MessageLogger 
   { 
     untracked vstring destinations = {"cerr", "cout"}
     PSet cerr                      = { string threshold = "WARNING" }
     PSet cout                      = { string threshold = "INFO"    }
                                                                     
     untracked vstring fwkJobReports = {"FrameworkJobReport.xml"}
     vstring categories = { "FwkJob" }
     PSet FrameworkJobReport.xml = {
	                                 PSet default = { int32 limit = 0 }
        	                         PSet FwkJob = { int32 limit = 10000000 }
        	                   }
   } 	

   # input			
     source = PoolSource { 	
       untracked vstring fileNames = {'file:rechits.root'}
       untracked int32 maxEvents = -1
       untracked uint32 debugVebosity = 10
       untracked bool   debugFlag     = true
     }

  es_source = EcalTrivialConditionRetriever {}	

  #Geometry
  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"  

  include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
 
  module ecalRecHitsValidation =  EcalRecHitsValidation {
	untracked string moduleLabelMC   = 'source' 
	string uncalibrecHitProducer     = "ecalWeightUncalibRecHit"
        string EBuncalibrechitCollection = "EcalUncalibRecHitsEB"
        string EEuncalibrechitCollection = "EcalUncalibRecHitsEE"
        string recHitProducer            = "ecalRecHit"
	string ESrecHitProducer          = "esRecHit"
        string EBrechitCollection        = "EcalRecHitsEB"
        string EErechitCollection        = "EcalRecHitsEE"
        string ESrechitCollection        = "EcalRecHitsES"
        untracked string outputFile      = 'EcalRecHitsValidation.root'
        untracked bool verbose = true
	}

  module ecalBarrelRecHitsValidation =  EcalBarrelRecHitsValidation {
	string digiProducer              = "ecalSelectiveReadout"
        string EBdigiCollection          = "ebDigis"
	string uncalibrecHitProducer     = "ecalWeightUncalibRecHit"
        string EBuncalibrechitCollection = "EcalUncalibRecHitsEB"
        untracked bool verbose = true
	}

  module ecalEndcapRecHitsValidation =  EcalEndcapRecHitsValidation {
	string digiProducer              = "ecalSelectiveReadout"
        string EEdigiCollection          = "eeDigis"
	string uncalibrecHitProducer     = "ecalWeightUncalibRecHit"
        string EEuncalibrechitCollection = "EcalUncalibRecHitsEE"
        untracked bool verbose = true
	}

  module ecalPreshowerRecHitsValidation  =  EcalPreshowerRecHitsValidation {
	string uncalibrecHitProducer     = "ecalWeightUncalibRecHit"
        string recHitProducer            = "ecalRecHit"
        string ESrecHitProducer          = "esRecHit"
        string EErechitCollection        = "EcalRecHitsEE"
	string ESrechitCollection        = "EcalRecHitsES"
        string EEuncalibrechitCollection = "EcalUncalibRecHitsEE"
        untracked bool verbose = true
	}

	path p1 = { ecalRecHitsValidation, ecalBarrelRecHitsValidation, ecalEndcapRecHitsValidation, ecalPreshowerRecHitsValidation }
                                                                               
        service = DaqMonitorROOTBackEnd{ }

}		
